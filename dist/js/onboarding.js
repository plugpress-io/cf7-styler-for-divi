(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=wp.element;var t=e.n(n);const r=function(){return t().createElement("div",{className:"dcs-onboarding-step"},t().createElement("div",{className:"dcs-onboarding-icon"},t().createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),t().createElement("line",{x1:"7",y1:"8",x2:"17",y2:"8"}),t().createElement("line",{x1:"7",y1:"12",x2:"17",y2:"12"}),t().createElement("line",{x1:"7",y1:"16",x2:"12",y2:"16"}))),t().createElement("h2",{className:"dcs-onboarding-title"},"Welcome to CF7 Styler for Divi"),t().createElement("p",{className:"dcs-onboarding-description"},"Style your Contact Form 7 forms with ease using Divi Builder. Create beautiful, responsive forms that match your site design without writing any code."))},o=function(){return t().createElement("div",{className:"dcs-onboarding-step"},t().createElement("div",{className:"dcs-onboarding-icon"},t().createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"}))),t().createElement("h2",{className:"dcs-onboarding-title"},"Quick Start"),t().createElement("p",{className:"dcs-onboarding-description"},"Using CF7 Styler is simple:"),t().createElement("ul",{className:"dcs-onboarding-list"},t().createElement("li",null,"Create or edit a page with Divi Builder"),t().createElement("li",null,"Add the CF7 Styler module to your page"),t().createElement("li",null,"Select your Contact Form 7 form"),t().createElement("li",null,"Customize the styling using Divi's visual controls")))};function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}const c=function(){var e,r,o=(e=(0,n.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,c,i=[],l=!0,s=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,r)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=o[0],i=o[1];return(0,n.useEffect)(function(){if("undefined"!=typeof dcsOnboarding&&dcsOnboarding.discount_code)i(dcsOnboarding.discount_code);else{var e=(new Date).getMonth(),n=(new Date).getFullYear();i(["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e]+n)}},[]),t().createElement("div",{className:"dcs-onboarding-step"},t().createElement("div",{className:"dcs-onboarding-icon"},t().createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t().createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))),t().createElement("h2",{className:"dcs-onboarding-title"},"You're All Set!"),t().createElement("p",{className:"dcs-onboarding-description"},"Start styling your Contact Form 7 forms with Divi Builder. Need help? Check out our documentation for detailed guides and tutorials."),t().createElement("div",{className:"dcs-onboarding-upsell"},t().createElement("h3",{className:"dcs-upsell-title"},"Upgrade to Pro"),t().createElement("p",{className:"dcs-upsell-description"},"Unlock advanced features and take your forms to the next level."),t().createElement("div",{className:"dcs-discount-code-wrapper"},t().createElement("p",{className:"dcs-discount-label"},"Use code at checkout:"),t().createElement("div",{className:"dcs-discount-code"},t().createElement("code",{id:"dcs-discount-code"},c),t().createElement("button",{className:"dcs-copy-code",onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(c).then(function(){var e=document.querySelector(".dcs-copy-code");if(e){var n=e.innerHTML;e.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" strokeWidth="2"><path d="M13 3L6 10l-3-3" strokeLinecap="round" strokeLinejoin="round"/></svg>',setTimeout(function(){e.innerHTML=n},2e3)}})},"aria-label":"Copy code"},t().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("rect",{x:"5",y:"5",width:"9",height:"9",rx:"1",strokeLinecap:"round",strokeLinejoin:"round"}),t().createElement("path",{d:"M4 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2",strokeLinecap:"round",strokeLinejoin:"round"}))))),t().createElement("a",{href:"https://divipeople.com/divi-cf7-styler/?checkout=true&discount=".concat(c),target:"_blank",rel:"noopener noreferrer",className:"dcs-upsell-button"},"Get Pro Version")),t().createElement("div",{className:"dcs-onboarding-links"},t().createElement("a",{href:dcsOnboarding.create_page_url||"/wp-admin/post-new.php?post_type=page",className:"dcs-onboarding-link"},"Create New Page"),t().createElement("a",{href:"https://divipeople.com/divi-cf7-styler/",target:"_blank",rel:"noopener noreferrer",className:"dcs-onboarding-link dcs-onboarding-link-secondary"},"View Documentation")))},i=function(e){var n=e.currentStep,a=e.onClose,i=e.onSkip,l=e.onNext,s=e.onPrev,d=e.onComplete;return t().createElement("div",{className:"dcs-onboarding-overlay"},t().createElement("div",{className:"dcs-onboarding-modal"},t().createElement("button",{className:"dcs-onboarding-close",onClick:a,"aria-label":"Close"},t().createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2"},t().createElement("line",{x1:"5",y1:"5",x2:"15",y2:"15"}),t().createElement("line",{x1:"15",y1:"5",x2:"5",y2:"15"}))),t().createElement("div",{className:"dcs-onboarding-content"},function(){switch(n){case 1:default:return t().createElement(r,null);case 2:return t().createElement(o,null);case 3:return t().createElement(c,null)}}()),t().createElement("div",{className:"dcs-onboarding-footer"},t().createElement("div",{className:"dcs-onboarding-progress"},[1,2,3].map(function(e){return t().createElement("span",{key:e,className:"dcs-progress-dot ".concat(e<=n?"active":"")})})),t().createElement("div",{className:"dcs-onboarding-actions"},n>1&&t().createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-secondary",onClick:s},"Previous"),t().createElement("div",{className:"dcs-onboarding-actions-right"},n<3?t().createElement(t().Fragment,null,t().createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-skip",onClick:i},"Skip"),t().createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-primary",onClick:l},"Next")):t().createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-primary",onClick:d},"Get Started"))))))};function l(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,c,i=[],l=!0,s=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(i.push(r.value),i.length!==n);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return s(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var d=function(){var e=l((0,n.useState)(!1),2),r=e[0],o=e[1],a=l((0,n.useState)(1),2),c=a[0],s=a[1];(0,n.useEffect)(function(){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_check_onboarding_status",nonce:dcsOnboarding.nonce})}).then(function(e){return e.json()}).then(function(e){e.success&&e.data.should_show&&(o(!0),s(e.data.current_step||1))}).catch(function(e){console.error("Error checking onboarding status:",e)})},[]);var d=function(){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_skip_onboarding",nonce:dcsOnboarding.nonce})}).then(function(e){return e.json()}).then(function(e){e.success&&(o(!1),window.location.reload())}).catch(function(e){console.error("Error skipping onboarding:",e)})},u=function(e){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_next_onboarding_step",nonce:dcsOnboarding.nonce,step:e})}).then(function(e){return e.json()}).then(function(n){n.success&&s(e)}).catch(function(e){console.error("Error updating step:",e)})},m=function(){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_complete_onboarding",nonce:dcsOnboarding.nonce})}).then(function(e){return e.json()}).then(function(e){e.success&&(o(!1),window.location.reload())}).catch(function(e){console.error("Error completing onboarding:",e)})};return r?t().createElement(i,{currentStep:c,onClose:function(){d()},onSkip:function(){d()},onNext:function(){c<3?u(c+1):m()},onPrev:function(){c>1&&u(c-1)},onComplete:m}):null},u=function(){var e=document.getElementById("dcs-onboarding-root");e&&(0,n.render)(t().createElement(d,null),e)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",u):u()})();