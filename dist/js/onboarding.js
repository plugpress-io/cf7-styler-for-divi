(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=wp.element,n=wp.domReady;var r=e.n(n);const o=wp.i18n,a=function(){return React.createElement("div",{className:"dcs-onboarding-step"},React.createElement("div",{className:"dcs-onboarding-icon"},React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2"}),React.createElement("line",{x1:"7",y1:"8",x2:"17",y2:"8"}),React.createElement("line",{x1:"7",y1:"12",x2:"17",y2:"12"}),React.createElement("line",{x1:"7",y1:"16",x2:"12",y2:"16"}))),React.createElement("h2",{className:"dcs-onboarding-title"},(0,o.__)("Welcome to CF7 Styler for Divi","cf7-styler-for-divi")),React.createElement("p",{className:"dcs-onboarding-description"},(0,o.__)("Style your Contact Form 7 forms with ease using Divi Builder. Create beautiful, responsive forms that match your site design without writing any code.","cf7-styler-for-divi")))},c=function(){return React.createElement("div",{className:"dcs-onboarding-step"},React.createElement("div",{className:"dcs-onboarding-icon"},React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"}))),React.createElement("h2",{className:"dcs-onboarding-title"},(0,o.__)("Quick Start","cf7-styler-for-divi")),React.createElement("p",{className:"dcs-onboarding-description"},(0,o.__)("Using CF7 Styler is simple:","cf7-styler-for-divi")),React.createElement("ul",{className:"dcs-onboarding-list"},React.createElement("li",null,(0,o.__)("Create or edit a page with Divi Builder","cf7-styler-for-divi")),React.createElement("li",null,(0,o.__)("Add the CF7 Styler module to your page","cf7-styler-for-divi")),React.createElement("li",null,(0,o.__)("Select your Contact Form 7 form","cf7-styler-for-divi")),React.createElement("li",null,(0,o.__)("Customize the styling using Divi's visual controls","cf7-styler-for-divi"))))};function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const l=function(){var e,n,r=(e=(0,t.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],l=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],c=r[1];return(0,t.useEffect)(function(){if("undefined"!=typeof dcsOnboarding&&dcsOnboarding.discount_code)c(dcsOnboarding.discount_code);else{var e=(new Date).getMonth(),t=(new Date).getFullYear();c(["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e]+t)}},[]),React.createElement("div",{className:"dcs-onboarding-step"},React.createElement("div",{className:"dcs-onboarding-icon"},React.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),React.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))),React.createElement("h2",{className:"dcs-onboarding-title"},(0,o.__)("You're All Set!","cf7-styler-for-divi")),React.createElement("p",{className:"dcs-onboarding-description"},(0,o.__)("Start styling your Contact Form 7 forms with Divi Builder. Need help? Check out our documentation for detailed guides and tutorials.","cf7-styler-for-divi")),React.createElement("div",{className:"dcs-onboarding-upsell"},React.createElement("h3",{className:"dcs-upsell-title"},(0,o.__)("Upgrade to Pro","cf7-styler-for-divi")),React.createElement("p",{className:"dcs-upsell-description"},(0,o.__)("Unlock advanced features and take your forms to the next level.","cf7-styler-for-divi")),React.createElement("div",{className:"dcs-discount-code-wrapper"},React.createElement("p",{className:"dcs-discount-label"},(0,o.__)("Use code at checkout:","cf7-styler-for-divi")),React.createElement("div",{className:"dcs-discount-code"},React.createElement("code",{id:"dcs-discount-code"},a),React.createElement("button",{className:"dcs-copy-code",onClick:function(){navigator.clipboard&&navigator.clipboard.writeText(a).then(function(){var e=document.querySelector(".dcs-copy-code");if(e){var t=e.innerHTML;e.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" strokeWidth="2"><path d="M13 3L6 10l-3-3" strokeLinecap="round" strokeLinejoin="round"/></svg>',setTimeout(function(){e.innerHTML=t},2e3)}})},"aria-label":(0,o.__)("Copy code","cf7-styler-for-divi")},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("rect",{x:"5",y:"5",width:"9",height:"9",rx:"1",strokeLinecap:"round",strokeLinejoin:"round"}),React.createElement("path",{d:"M4 1H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2",strokeLinecap:"round",strokeLinejoin:"round"}))))),React.createElement("a",{href:"https://divipeople.com/divi-cf7-styler/?checkout=true&discount=".concat(a),target:"_blank",rel:"noopener noreferrer",className:"dcs-upsell-button"},(0,o.__)("Get Pro Version","cf7-styler-for-divi"))),React.createElement("div",{className:"dcs-onboarding-links"},React.createElement("a",{href:"undefined"!=typeof dcsOnboarding&&dcsOnboarding.create_page_url?dcsOnboarding.create_page_url:"/wp-admin/post-new.php?post_type=page",className:"dcs-onboarding-link"},(0,o.__)("Create New Page","cf7-styler-for-divi")),React.createElement("a",{href:"https://divipeople.com/divi-cf7-styler/",target:"_blank",rel:"noopener noreferrer",className:"dcs-onboarding-link dcs-onboarding-link-secondary"},(0,o.__)("View Documentation","cf7-styler-for-divi"))))},s=function(e){var t=e.currentStep,n=e.onClose,r=e.onSkip,i=e.onNext,s=e.onPrev,d=e.onComplete;return React.createElement("div",{className:"dcs-onboarding-overlay"},React.createElement("div",{className:"dcs-onboarding-modal"},React.createElement("button",{className:"dcs-onboarding-close",onClick:n,"aria-label":(0,o.__)("Close","cf7-styler-for-divi")},React.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2"},React.createElement("line",{x1:"5",y1:"5",x2:"15",y2:"15"}),React.createElement("line",{x1:"15",y1:"5",x2:"5",y2:"15"}))),React.createElement("div",{className:"dcs-onboarding-content"},function(){switch(t){case 1:default:return React.createElement(a,null);case 2:return React.createElement(c,null);case 3:return React.createElement(l,null)}}()),React.createElement("div",{className:"dcs-onboarding-footer"},React.createElement("div",{className:"dcs-onboarding-progress"},[1,2,3].map(function(e){return React.createElement("span",{key:e,className:"dcs-progress-dot ".concat(e<=t?"active":"")})})),React.createElement("div",{className:"dcs-onboarding-actions"},t>1&&React.createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-secondary",onClick:s},(0,o.__)("Previous","cf7-styler-for-divi")),React.createElement("div",{className:"dcs-onboarding-actions-right"},t<3?React.createElement(React.Fragment,null,React.createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-skip",onClick:r},(0,o.__)("Skip","cf7-styler-for-divi")),React.createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-primary",onClick:i},(0,o.__)("Next","cf7-styler-for-divi"))):React.createElement("button",{className:"dcs-onboarding-btn dcs-onboarding-btn-primary",onClick:d},(0,o.__)("Get Started","cf7-styler-for-divi")))))))};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,c,i=[],l=!0,s=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(){var e=d((0,t.useState)(!1),2),n=e[0],r=e[1],o=d((0,t.useState)(1),2),a=o[0],c=o[1];(0,t.useEffect)(function(){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_check_onboarding_status",nonce:dcsOnboarding.nonce})}).then(function(e){return e.json()}).then(function(e){e.success&&e.data.should_show&&(r(!0),c(e.data.current_step||1))}).catch(function(e){console.error("Error checking onboarding status:",e)})},[]);var i=function(){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_skip_onboarding",nonce:dcsOnboarding.nonce})}).then(function(e){return e.json()}).then(function(e){e.success&&(r(!1),window.location.reload())}).catch(function(e){console.error("Error skipping onboarding:",e)})},l=function(e){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_next_onboarding_step",nonce:dcsOnboarding.nonce,step:e})}).then(function(e){return e.json()}).then(function(t){t.success&&c(e)}).catch(function(e){console.error("Error updating step:",e)})},u=function(){fetch(dcsOnboarding.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"dcs_complete_onboarding",nonce:dcsOnboarding.nonce})}).then(function(e){return e.json()}).then(function(e){e.success&&(r(!1),window.location.reload())}).catch(function(e){console.error("Error completing onboarding:",e)})};return n?React.createElement(s,{currentStep:a,onClose:function(){i()},onSkip:function(){i()},onNext:function(){a<3?l(a+1):u()},onPrev:function(){a>1&&l(a-1)},onComplete:u}):null};r()(function(){var e=document.getElementById("dcs-onboarding-root");e&&(0,t.render)(React.createElement(m,null),e)})})();